<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChittyID Developer Onboarding</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/spark-shield.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dynamic-spark-logo.css') }}">
    
    <style>
        .onboarding-step {
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid #0088ff;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .onboarding-step:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 136, 255, 0.2);
            border-color: #00ff88;
        }
        
        .step-number {
            position: absolute;
            top: -1rem;
            left: 2rem;
            background: linear-gradient(45deg, #0088ff, #00ff88);
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.125rem;
        }
        
        .code-snippet {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
            position: relative;
        }
        
        .code-snippet pre {
            margin: 0;
            color: #c9d1d9;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
        }
        
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: #21262d;
            border: 1px solid #30363d;
            color: #f0f6fc;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .copy-button:hover {
            background: #30363d;
            border-color: #8b949e;
        }
        
        .quick-start-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid #0088ff;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .quick-start-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 136, 255, 0.2);
            border-color: #00ff88;
        }
        
        .framework-icon {
            width: 3rem;
            height: 3rem;
            background: linear-gradient(45deg, #0088ff, #00ff88);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .progress-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
        }
        
        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        
        .progress-step::after {
            content: '';
            position: absolute;
            top: 1.25rem;
            left: 50%;
            right: -50%;
            height: 2px;
            background: #30363d;
            z-index: 1;
        }
        
        .progress-step:last-child::after {
            display: none;
        }
        
        .progress-step.completed::after {
            background: linear-gradient(90deg, #0088ff, #00ff88);
        }
        
        .progress-circle {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            background: #30363d;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.5rem;
            font-weight: 700;
            position: relative;
            z-index: 2;
        }
        
        .progress-step.completed .progress-circle {
            background: linear-gradient(45deg, #0088ff, #00ff88);
            color: white;
        }
        
        .progress-step.current .progress-circle {
            background: #F59E0B;
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
        }
        
        .interactive-demo {
            background: #0d1117;
            border: 1px solid #0088ff;
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .demo-output {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            font-family: monospace;
            color: #c9d1d9;
            min-height: 4rem;
        }
    </style>
</head>
<body class="bg-chitty-dark text-white">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-chitty-darker border-bottom border-chitty-blue">
        <div class="container">
            <a class="chitty-dynamic-logo" href="/">
                <div class="dynamic-spark-container">
                    <i data-feather="shield" class="dynamic-spark-shield"></i>
                    <div class="dynamic-lightning-spark">
                        <svg width="12" height="16" viewBox="0 0 16 20" class="dynamic-spark-svg">
                            <path 
                                d="M8 2 L6.5 9 L9.5 9 L7 18 L11 11 L8.5 11 Z" 
                                fill="url(#logoSparkGradient)" 
                                class="lightning-bolt"
                            />
                            <defs>
                                <linearGradient id="logoSparkGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#F59E0B" />
                                    <stop offset="100%" stop-color="#EF4444" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                <span class="navbar-brand-text ms-3">Developer Onboarding</span>
            </a>
            
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">Trust Engine</a>
                <a class="nav-link" href="/marketplace">Marketplace</a>
                <a class="nav-link" href="/partners">Partners</a>
                <a class="nav-link active" href="/onboarding">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="container-fluid py-5" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%);">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-4">
                Get Started with <span class="text-chitty-green">ChittyID</span>
            </h1>
            <p class="lead mb-5">
                Integrate 6D trust scoring into your platform in minutes with our step-by-step guide
            </p>
        </div>
    </div>

    <!-- Progress Indicator -->
    <div class="container py-4">
        <div class="progress-indicator">
            <div class="progress-step completed">
                <div class="progress-circle">1</div>
                <div class="small">Setup</div>
            </div>
            <div class="progress-step current">
                <div class="progress-circle">2</div>
                <div class="small">Authentication</div>
            </div>
            <div class="progress-step">
                <div class="progress-circle">3</div>
                <div class="small">Integration</div>
            </div>
            <div class="progress-step">
                <div class="progress-circle">4</div>
                <div class="small">Testing</div>
            </div>
            <div class="progress-step">
                <div class="progress-circle">5</div>
                <div class="small">Production</div>
            </div>
        </div>
    </div>

    <!-- Quick Start Options -->
    <div class="container py-4">
        <div class="text-center mb-5">
            <h2 class="h1 fw-bold text-chitty-blue mb-3">Choose Your Path</h2>
            <p class="lead">Select your preferred development approach</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="quick-start-card text-center">
                    <div class="framework-icon mx-auto">
                        <i data-feather="code"></i>
                    </div>
                    <h5 class="text-chitty-green mb-3">REST API</h5>
                    <p class="text-muted mb-4">Direct API integration for maximum flexibility</p>
                    <button class="btn btn-outline-chitty-blue" onclick="showApiGuide()">Start Guide</button>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="quick-start-card text-center">
                    <div class="framework-icon mx-auto">
                        <i data-feather="package"></i>
                    </div>
                    <h5 class="text-chitty-green mb-3">SDK Integration</h5>
                    <p class="text-muted mb-4">Use our JavaScript or Python SDK for faster development</p>
                    <button class="btn btn-outline-chitty-blue" onclick="showSdkGuide()">Start Guide</button>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="quick-start-card text-center">
                    <div class="framework-icon mx-auto">
                        <i data-feather="box"></i>
                    </div>
                    <h5 class="text-chitty-green mb-3">Pre-built Components</h5>
                    <p class="text-muted mb-4">Drop-in React components and widgets</p>
                    <button class="btn btn-outline-chitty-blue" onclick="showComponentGuide()">Start Guide</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Step-by-Step Guide -->
    <div class="container py-5" id="guide-content">
        <!-- Step 1: Account Setup -->
        <div class="onboarding-step">
            <div class="step-number">1</div>
            <h3 class="text-chitty-green mb-3">Account Setup</h3>
            <p class="lead mb-4">Create your ChittyID developer account and get your API credentials</p>
            
            <div class="row g-4">
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">Sign Up Process</h5>
                    <ol class="list-unstyled">
                        <li class="mb-2">1. Visit <a href="#" class="text-chitty-green">developer.chittyid.com</a></li>
                        <li class="mb-2">2. Choose your partnership tier</li>
                        <li class="mb-2">3. Complete identity verification</li>
                        <li class="mb-2">4. Set up your organization profile</li>
                        <li class="mb-2">5. Get your API keys</li>
                    </ol>
                </div>
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">What You'll Receive</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i data-feather="key" class="text-chitty-green me-2"></i>API Key (Public)</li>
                        <li class="mb-2"><i data-feather="lock" class="text-chitty-green me-2"></i>Secret Key (Private)</li>
                        <li class="mb-2"><i data-feather="globe" class="text-chitty-green me-2"></i>Webhook Endpoints</li>
                        <li class="mb-2"><i data-feather="bar-chart" class="text-chitty-green me-2"></i>Analytics Dashboard Access</li>
                    </ul>
                </div>
            </div>
            
            <div class="interactive-demo">
                <h6 class="text-chitty-green mb-3">Try it Now: Generate Test Credentials</h6>
                <button class="btn btn-chitty-blue" onclick="generateTestCredentials()">
                    <i data-feather="play" class="me-2"></i>Generate Test Keys
                </button>
                <div class="demo-output" id="credentials-output">
                    Click the button above to generate test API credentials
                </div>
            </div>
        </div>

        <!-- Step 2: Authentication -->
        <div class="onboarding-step">
            <div class="step-number">2</div>
            <h3 class="text-chitty-green mb-3">Authentication Setup</h3>
            <p class="lead mb-4">Configure secure API authentication for your application</p>
            
            <div class="code-snippet">
                <button class="copy-button" onclick="copyCode('auth-code')">Copy</button>
                <pre id="auth-code"># Set environment variables
export CHITTY_API_KEY="pk_test_1234567890abcdef"
export CHITTY_SECRET_KEY="sk_test_abcdef1234567890"

# Or in your .env file
CHITTY_API_KEY=pk_test_1234567890abcdef
CHITTY_SECRET_KEY=sk_test_abcdef1234567890
CHITTY_WEBHOOK_SECRET=whsec_1234567890abcdef</pre>
            </div>
            
            <div class="row g-4 mt-4">
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">Security Best Practices</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i data-feather="shield" class="text-chitty-green me-2"></i>Store secrets in environment variables</li>
                        <li class="mb-2"><i data-feather="eye-off" class="text-chitty-green me-2"></i>Never commit keys to version control</li>
                        <li class="mb-2"><i data-feather="rotate-ccw" class="text-chitty-green me-2"></i>Rotate keys regularly</li>
                        <li class="mb-2"><i data-feather="server" class="text-chitty-green me-2"></i>Use different keys for different environments</li>
                    </ul>
                </div>
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">Rate Limits</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><strong>Starter:</strong> 100 requests/minute</li>
                        <li class="mb-2"><strong>Professional:</strong> 1,000 requests/minute</li>
                        <li class="mb-2"><strong>Enterprise:</strong> Custom limits</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Step 3: First API Call -->
        <div class="onboarding-step">
            <div class="step-number">3</div>
            <h3 class="text-chitty-green mb-3">Your First API Call</h3>
            <p class="lead mb-4">Test your connection with a simple trust score request</p>
            
            <div class="row g-4">
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">cURL Example</h5>
                    <div class="code-snippet">
                        <button class="copy-button" onclick="copyCode('curl-example')">Copy</button>
                        <pre id="curl-example">curl -X GET \
  "https://api.chittyid.com/v1/trust/alice_demo_123" \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json"</pre>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">JavaScript Example</h5>
                    <div class="code-snippet">
                        <button class="copy-button" onclick="copyCode('js-example')">Copy</button>
                        <pre id="js-example">const response = await fetch(
  'https://api.chittyid.com/v1/trust/alice_demo_123',
  {
    headers: {
      'Authorization': 'Bearer your-api-key',
      'Content-Type': 'application/json'
    }
  }
);
const trustData = await response.json();</pre>
                    </div>
                </div>
            </div>
            
            <div class="interactive-demo">
                <h6 class="text-chitty-green mb-3">Interactive API Test</h6>
                <div class="row g-3">
                    <div class="col-md-6">
                        <input type="text" class="form-control bg-dark text-white border-chitty-blue" 
                               placeholder="User ID (e.g., alice_demo_123)" id="test-user-id">
                    </div>
                    <div class="col-md-6">
                        <button class="btn btn-chitty-green" onclick="testApiCall()">
                            <i data-feather="send" class="me-2"></i>Test API Call
                        </button>
                    </div>
                </div>
                <div class="demo-output" id="api-output">
                    Enter a user ID and click "Test API Call" to see live results
                </div>
            </div>
        </div>

        <!-- Step 4: SDK Integration -->
        <div class="onboarding-step">
            <div class="step-number">4</div>
            <h3 class="text-chitty-green mb-3">SDK Integration</h3>
            <p class="lead mb-4">Use our SDKs for faster, more robust integration</p>
            
            <div class="row g-4">
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">JavaScript/Node.js</h5>
                    <div class="code-snippet">
                        <button class="copy-button" onclick="copyCode('js-sdk')">Copy</button>
                        <pre id="js-sdk"># Install
npm install @chitty/trust-sdk

# Usage
import { ChittyTrust } from '@chitty/trust-sdk';

const chitty = new ChittyTrust({
  apiKey: process.env.CHITTY_API_KEY
});

// Get trust score
const score = await chitty.getTrustScore('user123');

// Get trust history
const history = await chitty.getTrustHistory('user123', {
  days: 30
});</pre>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <h5 class="text-chitty-blue">Python</h5>
                    <div class="code-snippet">
                        <button class="copy-button" onclick="copyCode('python-sdk')">Copy</button>
                        <pre id="python-sdk"># Install
pip install chitty-trust

# Usage
from chitty_trust import ChittyClient

client = ChittyClient(
    api_key=os.getenv('CHITTY_API_KEY')
)

# Get trust score
score = client.get_trust_score('user123')

# Create verification request
request = client.create_verification({
    'type': 'identity',
    'title': 'Verify government ID',
    'reward': 25.00
})</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: Production Deployment -->
        <div class="onboarding-step">
            <div class="step-number">5</div>
            <h3 class="text-chitty-green mb-3">Production Deployment</h3>
            <p class="lead mb-4">Launch your ChittyID integration to production</p>
            
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="text-chitty-blue">Pre-Launch Checklist</h5>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" id="check1">
                        <label class="form-check-label text-white" for="check1">
                            Switch to production API keys
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" id="check2">
                        <label class="form-check-label text-white" for="check2">
                            Configure webhook endpoints
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" id="check3">
                        <label class="form-check-label text-white" for="check3">
                            Test error handling
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" id="check4">
                        <label class="form-check-label text-white" for="check4">
                            Set up monitoring & alerts
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" id="check5">
                        <label class="form-check-label text-white" for="check5">
                            Configure rate limiting
                        </label>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <h5 class="text-chitty-blue">Monitoring Setup</h5>
                    <div class="code-snippet">
                        <pre># Environment variables
CHITTY_API_KEY=pk_live_...
CHITTY_SECRET_KEY=sk_live_...
CHITTY_WEBHOOK_SECRET=whsec_live_...

# Monitoring endpoints
/health/chitty
/metrics/chitty</pre>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <h5 class="text-chitty-blue">Support Resources</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i data-feather="book" class="text-chitty-green me-2"></i><a href="#" class="text-chitty-blue">API Documentation</a></li>
                        <li class="mb-2"><i data-feather="message-circle" class="text-chitty-green me-2"></i><a href="#" class="text-chitty-blue">Developer Community</a></li>
                        <li class="mb-2"><i data-feather="headphones" class="text-chitty-green me-2"></i><a href="#" class="text-chitty-blue">24/7 Support Portal</a></li>
                        <li class="mb-2"><i data-feather="github" class="text-chitty-green me-2"></i><a href="#" class="text-chitty-blue">Example Projects</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Next Steps -->
    <div class="container py-5">
        <div class="text-center">
            <h2 class="h1 fw-bold text-chitty-green mb-4">Ready to Build?</h2>
            <p class="lead mb-4">You now have everything you need to integrate ChittyID trust scoring</p>
            
            <div class="d-flex justify-content-center gap-3">
                <a href="/partners" class="btn btn-chitty-blue btn-lg">
                    <i data-feather="users" class="me-2"></i>Explore Partnerships
                </a>
                <a href="/marketplace" class="btn btn-outline-chitty-green btn-lg">
                    <i data-feather="shopping-bag" class="me-2"></i>Try Marketplace
                </a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/dynamic-spark.js') }}"></script>
    
    <script>
        // Initialize Feather icons
        feather.replace();
        
        // Initialize dynamic spark system
        if (window.dynamicSparkSystem) {
            window.dynamicSparkSystem.initializeSparkElements();
        }
        
        // Copy code functionality
        function copyCode(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }
        
        // Generate test credentials
        function generateTestCredentials() {
            const output = document.getElementById('credentials-output');
            output.innerHTML = `
<strong>Test API Credentials Generated:</strong>

API Key (Public): pk_test_${Math.random().toString(36).substring(2, 15)}
Secret Key (Private): sk_test_${Math.random().toString(36).substring(2, 15)}
Webhook Secret: whsec_${Math.random().toString(36).substring(2, 15)}

<em>Note: These are demo credentials for testing purposes only</em>
            `;
        }
        
        // Test API call
        async function testApiCall() {
            const userId = document.getElementById('test-user-id').value || 'alice_demo_123';
            const output = document.getElementById('api-output');
            
            output.innerHTML = 'Making API call...';
            
            try {
                const response = await fetch(`/api/trust/${userId}`);
                if (response.ok) {
                    const data = await response.json();
                    output.innerHTML = `
<strong>API Response:</strong>

{
  "composite_score": ${data.scores?.composite?.toFixed(1) || '78.5'},
  "dimensions": {
    "source": ${data.dimensions?.source?.toFixed(1) || '82.3'},
    "temporal": ${data.dimensions?.temporal?.toFixed(1) || '75.8'},
    "outcome": ${data.dimensions?.outcome?.toFixed(1) || '84.2'},
    "justice": ${data.dimensions?.justice?.toFixed(1) || '91.7'}
  },
  "trust_level": "${data.persona?.chitty_level?.level || 'L3'}",
  "verification_status": "${data.persona?.verification_status || 'Verified'}"
}
                    `;
                } else {
                    output.innerHTML = `Error: ${response.status} - ${response.statusText}`;
                }
            } catch (error) {
                output.innerHTML = `Error: ${error.message}`;
            }
        }
        
        // Guide navigation
        function showApiGuide() {
            alert('API integration guide selected. Scroll down to continue with the step-by-step process.');
        }
        
        function showSdkGuide() {
            alert('SDK integration guide selected. Continue with Step 4 for SDK-specific instructions.');
        }
        
        function showComponentGuide() {
            alert('Component guide selected. Visit our React components documentation for pre-built widgets.');
        }
    </script>
</body>
</html>