# wrangler.toml - Cloudflare Worker Configuration
name = "chitty-chatgpt-mcp"
main = "src/index.ts"
compatibility_date = "2024-01-15"
node_compat = true

[env.production]
name = "chitty-chatgpt-mcp-prod"

[env.staging]
name = "chitty-chatgpt-mcp-staging"

# Environment variables (set via wrangler secret put)
# OPENAI_API_KEY
# CHITTY_DATABASE_URL
# CHITTY_ENCRYPTION_KEY

[[d1_databases]]
binding = "DB"
database_name = "chitty-chatgpt-sessions"
database_id = "your-d1-database-id"

[build]
command = "npm run build"

[vars]
ENVIRONMENT = "production"
VERSION = "1.0.0"