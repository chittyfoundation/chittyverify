# ChittyChain™ - Enterprise Blockchain Infrastructure

ChittyChain is the foundational blockchain infrastructure for the Chitty ecosystem, providing immutable record-keeping, smart contract capabilities, and cross-platform integration for ChittyAssets, ChittyFinance, and ChittyLegal.


## Project Status (Auto-Generated)

![blockchain](https://img.shields.io/badge/blockchain-operational-green) ![dependencies](https://img.shields.io/badge/dependencies-error-lightgrey)

**Last Updated**: 7/9/2025, 5:30:28 PM

- **blockchain**: ✅ operational
  - Blocks: 1
  - Artifacts: 1
- **dependencies**: ❌ error
  - Error: Command failed: npm --prefix /Users/nickbianchi/MAIN/gh/ChittyChain ls --depth=0
npm error code ELSPROBLEMS
npm error missing: @1password/sdk@^0.3.1, required by chittychain@1.0.0
npm error missing: @anthropic-ai/sdk@^0.54.0, required by chittychain@1.0.0
npm error missing: @clerk/nextjs@^6.22.0, required by chittychain@1.0.0
npm error missing: @langchain/anthropic@^0.3.22, required by chittychain@1.0.0
npm error missing: @langchain/openai@^0.5.13, required by chittychain@1.0.0
npm error missing: @modelcontextprotocol/sdk@^1.0.0, required by chittychain@1.0.0
npm error missing: @notionhq/client@^3.1.3, required by chittychain@1.0.0
npm error missing: @openzeppelin/contracts@^5.3.0, required by chittychain@1.0.0
npm error missing: @types/node@^24.0.3, required by chittychain@1.0.0
npm error missing: @types/react-dom@^19.1.6, required by chittychain@1.0.0
npm error missing: @types/react@^19.1.8, required by chittychain@1.0.0
npm error missing: 1password@^0.4.0, required by chittychain@1.0.0
npm error missing: autoprefixer@^10.4.21, required by chittychain@1.0.0
npm error missing: chalk@^5.3.0, required by chittychain@1.0.0
npm error missing: cli-table3@^0.6.3, required by chittychain@1.0.0
npm error missing: commander@^11.0.0, required by chittychain@1.0.0
npm error missing: ethers@^6.14.4, required by chittychain@1.0.0
npm error missing: inquirer@^9.2.0, required by chittychain@1.0.0
npm error missing: langchain@^0.3.28, required by chittychain@1.0.0
npm error missing: next@^15.3.3, required by chittychain@1.0.0
npm error missing: openai@^5.5.0, required by chittychain@1.0.0
npm error missing: ora@^7.0.1, required by chittychain@1.0.0
npm error missing: postcss@^8.5.6, required by chittychain@1.0.0
npm error missing: react-dom@^19.1.0, required by chittychain@1.0.0
npm error missing: react@^19.1.0, required by chittychain@1.0.0
npm error missing: tailwindcss@^4.1.10, required by chittychain@1.0.0
npm error missing: typescript@^5.8.3, required by chittychain@1.0.0
npm error A complete log of this run can be found in: /Users/nickbianchi/.npm/_logs/2025-07-09T22_30_28_535Z-debug-0.log


## Overview

ChittyChain serves as the trust layer for the entire Chitty platform suite, enabling:
- **Asset Tokenization**: Convert physical assets into verifiable digital tokens
- **Transaction Integrity**: Immutable financial transaction records
- **Legal Smart Contracts**: Self-executing agreements with automated enforcement
- **Cross-Platform Synergy**: Seamless integration between all Chitty platforms

## Core Features

### Enhanced Blockchain Infrastructure
- **Custom Blockchain**: Purpose-built for legal evidence management
- **Smart Contracts**: Automated execution of business logic
- **Trust Layer**: Multi-tier evidence verification system
- **Dependency Resolution**: Automatic artifact dependency management
- **User Consent**: Legal-grade approval workflows
- **Contradiction Detection**: Automatic conflict identification
- **Oracle Services**: Real-world data integration

### New: CLI & MCP Integration
- **ChittyChain CLI**: Command-line interface for blockchain operations
- **MCP Server**: Model Context Protocol for AI integration
- **Portable Architecture**: Works from any directory in the MAIN ecosystem
- **Trust Analysis**: Real-time evidence verification without minting

### Platform Integrations

#### ChittyAssets Integration
- Asset minting and verification
- Ownership transfer protocols
- Provenance tracking
- Valuation oracles

#### ChittyFinance Integration
- Transaction fact recording
- Payment flow tracking
- Financial smart contracts
- Automated reconciliation

#### ChittyLegal Integration
- Contract deployment and execution
- Document hashing and verification
- Dispute resolution protocols
- Compliance automation

## Technical Architecture

### Core Components

```
src/
├── blockchain/
│   ├── ChittyBlock.js        # Block structure and validation
│   ├── ChittyBlockV2.js      # Enhanced block with metadata
│   ├── ChittyChain.js        # Blockchain management
│   ├── ChittyChainV2.js      # V2 with advanced features
│   └── SmartContracts.js     # Contract execution engine
├── core/
│   ├── AuthenticationGateway.js  # Access control
│   ├── EvidenceIntake.js        # Data ingestion
│   └── ForensicAnalysis.js      # Chain analysis tools
└── index.js                      # Main entry point
```

### Smart Contracts

```
contracts/
├── EvidenceRegistry.sol      # Immutable evidence storage
├── PropertyEscrow.sol       # Automated property transfers
└── PropertyToken.sol        # ERC-721 property tokens
```

### Services Layer

```
lib/
├── blockchain/
│   ├── chittychain.ts           # TypeScript blockchain interface
│   ├── oracle.ts                # External data integration
│   └── validation-service.ts    # Transaction validation
├── evidence-ledger/
│   ├── api/                     # Evidence management APIs
│   └── schemas/                 # Data structures
├── property/
│   ├── title-ingestion.ts       # Property title processing
│   └── divorce-workflow.ts      # Legal property division
└── security/
    └── secrets-manager.ts       # Key management
```

## Installation

### Prerequisites
- Node.js 18+ 
- npm or yarn
- PostgreSQL (for off-chain data)
- Ethereum-compatible RPC endpoint (optional)

### Setup

1. Clone the repository:
```bash
git clone https://github.com/yourusername/ChittyChain.git
cd ChittyChain
```

2. Install dependencies:
```bash
npm install
```

3. Configure environment variables:
```bash
cp .env.example .env.local
# Edit .env.local with your configuration
```

4. Run tests:
```bash
npm test
```

5. Start development server:
```bash
npm run dev
```

## Configuration

### Required Environment Variables

```env
# Blockchain Configuration
RPC_URL=your_ethereum_rpc_url
ORACLE_PRIVATE_KEY=oracle_wallet_private_key
PROPERTY_CONTRACT_ADDRESS=deployed_property_contract

# API Keys
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
NOTION_API_KEY=your_notion_api_key
NOTION_DATABASE_ID=your_notion_database_id

# Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_public_key
CLERK_SECRET_KEY=your_clerk_secret_key

# Optional Services
ELASTICSEARCH_URL=your_elasticsearch_url
IPFS_API_URL=your_ipfs_node_url
```

## Quick Start

### Command Line Interface
```bash
# Check blockchain status
npm run cli:status

# Verify evidence without minting
npm run cli:verify --file evidence.json

# Mint with full verification and consent
npm run cli:mint --file evidence.json --level legal

# Check dependencies
./chittychain-cli.js check-dependencies --file artifacts.json

# Start MCP server for AI integration
npm run mcp
```

### Evidence Verification Workflow
```bash
# 1. Verify evidence first (no blockchain write)
./chittychain-cli.js verify-only --file legal-docs.json --snapshot

# 2. Review verification report
cat trust-snapshot-*.json

# 3. Mint approved evidence with consent
./chittychain-cli.js verified-mint --file legal-docs.json --forensic
```

### MCP Integration for AI Models
```javascript
// AI can call ChittyChain via MCP
await mcp.callTool('chittychain_trust_analysis', {
  artifacts: [evidenceDocument],
  checkContradictions: true
});

await mcp.callTool('chittychain_verified_mint', {
  artifacts: approvedDocuments,
  requireConsent: true
});
```

## Usage Examples

### Creating a New Block (Programmatic)
```javascript
import { ChittyChainV2 } from './src/blockchain/ChittyChainV2.js';

const blockchain = new ChittyChainV2();
const block = blockchain.addBlock({
  type: 'ASSET_MINT',
  data: {
    assetId: 'PROP-001',
    owner: '0x123...',
    metadata: { /* asset details */ }
  }
});
```

### Deploying a Smart Contract
```javascript
import { SmartContracts } from './src/blockchain/SmartContracts.js';

const contract = new SmartContracts.PropertyToken({
  name: 'Chitty Property',
  symbol: 'CPROP',
  baseURI: 'https://api.chitty.com/properties/'
});

await contract.mint(recipientAddress, tokenId, metadata);
```

### Evidence Registry
```javascript
import { EvidenceIntake } from './src/core/EvidenceIntake.js';

const evidence = new EvidenceIntake();
const hash = await evidence.submitEvidence({
  caseId: 'CASE-001',
  documentHash: sha256(documentContent),
  timestamp: Date.now(),
  source: 'COURT_FILING'
});
```

## Testing

### Unit Tests
```bash
npm run test:unit
```

### Integration Tests
```bash
npm run test:integration
```

### Blockchain Tests
```bash
node test-blockchain.js
node test-blockchain-v2.js
node test-blockchain-core.js
```

### Stress Testing
```bash
node stress-test.js
```

## API Documentation

### REST API Endpoints

#### Evidence Management
- `POST /api/evidence/upload` - Upload and hash evidence
- `POST /api/evidence/mint` - Mint evidence to blockchain
- `GET /api/evidence/verify` - Verify evidence integrity
- `POST /api/evidence/extract-facts` - AI fact extraction

#### Property Management
- `POST /api/property/ingest` - Ingest property titles
- `POST /api/property/divorce` - Process property division

#### Case Management
- `GET /api/cases` - List all cases
- `POST /api/cases` - Create new case

#### AI Services
- `POST /api/ai` - AI-powered analysis

## Security Considerations

### Access Control
- All API endpoints require authentication
- Role-based permissions for sensitive operations
- Audit logging for all blockchain interactions

### Data Protection
- Evidence hashing before storage
- Encrypted private key management
- Secure oracle communication

### Smart Contract Security
- OpenZeppelin contracts for standard compliance
- Formal verification for critical contracts
- Multi-signature requirements for high-value transfers

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md) for development guidelines.

## License

Copyright © 2024 Chitty Holdings LLC. All rights reserved.

## Support

For technical support and questions:
- Documentation: [docs.chittychain.com](https://docs.chittychain.com)
- Issues: [GitHub Issues](https://github.com/yourusername/ChittyChain/issues)
- Email: support@chitty.com

---

Built with Never Sh*tty™ quality standards by the Chitty team.